<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/templates/common.xhtml">
	<ui:define name="title">reponse</ui:define>
	<ui:define name="content">
	
		<h:form id="idform">
		
		<b:commandButton ajax="true" update="@form" action="#{reponseBean.choisirFiltreAfficheDansStock(1)}" value="toutes annonces"/>
		<b:commandButton ajax="true" update="@form" action="#{reponseBean.choisirFiltreAfficheDansStock(2)}" value="annonces favorites"/>
		<b:commandButton ajax="true" update="@form" action="#{reponseBean.choisirFiltreAfficheDansStock(3)}" value="demandes annonces acceptes"/>

			<p:dataGrid id="idAnnonce" var="idAnnonce"
				value="#{reponseBean.annonces}" columns="3" layout="grid"
				rows="100" >
				<f:facet name="header" >
					<div align="left" size="10">
						<font size="4" >Food Share</font>
					</div>
				</f:facet>
				
				<p:panel id="pnl" style="text-align:center; ">
					<f:facet name="header" >
						<p:outputLabel value="#{idAnnonce.stock.produit.libelleProd}" style="float:center" />
				
							
						<p:commandButton    ajax="true" update="@Form"
										    value="#{publicationBean.getNombreReponseAnnonce(idAnnonce.idPubli)}"
											icon="fa fa-user" style="float:right; background: #FFC94D"
											type="button" />

					</f:facet>
					<div style="text-align: justify; margin: 10px">
						<p:graphicImage value="#{idAnnonce.stock.produit.image}" />
						<p:outputLabel
							value="quantité à donner : #{idAnnonce.qtePubli} #{idAnnonce.stock.unite.libelleUnite}"
							style="padding-left:15px;" />

					</div>
					<div style="text-align: justify">
						<p:outputLabel value="Description : #{idAnnonce.description}" />
						<p:outputLabel
							value="Adresse : #{idAnnonce.adresse.voirie} #{idAnnonce.adresse.codePostal} #{idAnnonce.adresse.ville} " />
					</div>
					<b:commandButton id="idReponse" value="intéressé" action="#{reponseBean.ajouterReponseAnnonce}" ajax="true"  
									style="background: #007AFF" rendered="#{reponseBean.flag}">
						<f:setPropertyActionListener value="#{idAnnonce}" target="#{reponseBean.annonce}"/>
					</b:commandButton>

				</p:panel>
			
			</p:dataGrid>
		
		</h:form>
	
	
	
	
	
	
	</ui:define>
	
</ui:composition>
</html>
