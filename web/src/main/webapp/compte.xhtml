<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/common.xhtml">
	<ui:define name="title">Compte utilisateur</ui:define>
	<style>
		.alerte
		{
			background-color:#007AFF;
		}
	</style>
	<ui:define name="content">

	<b:accordion>
		<b:panel id="panel1" title="Données renseignées">
			<b:row>
			  	<b:form>
			   		<b:alert class="alert" span="2" title="IDENTITE : " />
			    	<b:label span="2" severity="none" value="#{sessionMB.sessionUtilisateur.getPrenom()}" style="margin-top:20px;color:black"/>
			    	<b:label span="2" severity="none" value="#{sessionMB.sessionUtilisateur.getNom()}" style="margin-top:20px;color:black"/>
			 	 	<b:alert class="alert" span="2" title="DATE D'INSCRIPTION : " />
    				<b:label span="2" severity="none" value="#{sessionMB.sessionUtilisateur.getDate_inscription()}" style="margin-top:20px;color:black"/>
			 	 </b:form>
			</b:row>
			<b:row>
				<b:form>
    				<b:alert class="alert" span="2" title="COORDONNEES : " style="margin-top:10px"/>
    				<b:label span="2" severity="none" value="#{sessionMB.getAdressePrincipale(sessionMB.sessionUtilisateur.getAdresses()).getVoirie()}" style="margin-top:10px;color:black"/>
    				<b:label span="2" severity="none" value="#{sessionMB.getAdressePrincipale(sessionMB.sessionUtilisateur.getAdresses()).getCode_postal()}" style="margin-top:10px;color:black"/>
    				<b:label span="2" severity="none" value="#{sessionMB.getAdressePrincipale(sessionMB.sessionUtilisateur.getAdresses()).getVille()}" style="margin-top:10px;color:black"/>
   				</b:form>
   			</b:row>
   			<b:row>
				<b:form>
				<b:alert class="alert" span="2" title="MAIL : " />
			    	<b:label span="2" severity="none" value="#{sessionMB.sessionUtilisateur.getMail()}" style="margin-top:20px;color:black"/>
			    	<b:alert class="alert" span="2" title="TELEPHONE : " />
			    	<b:label span="2" severity="none" value="#{sessionMB.sessionUtilisateur.getTelephone()}" style="margin-top:20px;color:black" />
    				</b:form>
			</b:row>
		</b:panel>
		<b:panel id="panel2" title="Données optionnelles">
			<b:row>
			  	<b:form>
			   		<b:alert class="alert" span="2" title="MAIL : " />
			    	<b:inputText span="2" value="#{sessionMB.mail}" placeholder="#{sessionMB.sessionUtilisateur.getMail()}" style="margin-top:10px"/>
			    	<b:commandButton span="2" value="Modifier" action="#{sessionMB.updateMail()}" style="margin-top:10px"/>
			    	<b:alert class="alert" span="2" title="TELEPHONE : " />
			    	<b:inputText span="2" value="#{sessionMB.telephone}" placeholder="#{sessionMB.sessionUtilisateur.getTelephone()}" style="margin-top:10px" />
			    	<b:commandButton span="2" value="Modifier" action="#{sessionMB.updateTelephone()}" style="margin-top:10px"/>
			 	 </b:form>
			</b:row>
			<b:row>
				<b:form>
    				<b:alert class="alert" span="2" title="DATE DE NAISSANCE : " />
    				<b:datepicker span="2" value="#{sessionMB.dateDeNaissance}" placeholder="#{sessionMB.sessionUtilisateur.getDate_naissance()}" style="margin-top:10px"/>
					<b:commandButton span="2" value="Ajouter" action="#{sessionMB.updateDateNaissance()}" style="margin-top:10px"/>
   				</b:form>
			</b:row>
			<b:row>
				<b:form>
    				<b:alert class="alert" span="3" title="AJOUTER UNE ADRESSE : " >
    				<b:selectBooleanCheckbox value="#{sessionMB.chckboxAdr_principale}" caption="Nouvelle adresse principale" />
    				</b:alert>
    				<b:inputText span="2" value="#{sessionMB.voirie}" style="margin-top:10px"/>
    				<b:inputText span="1" value="#{sessionMB.codePostal}" style="margin-top:10px"/>
    				<b:inputText span="2" value="#{sessionMB.ville}" style="margin-top:10px"/>
    				<b:commandButton span="2" value="Ajouter" action="#{sessionMB.ajouterAdresse()}" style="margin-top:10px"/>
    				
   				</b:form>
   			</b:row>
		</b:panel>
		<b:panel id="panel3" title="Paramètres">
		<b:row>
			<b:alert class="alert" span="3" title="ALERTES ET IMAGE: "></b:alert>
		</b:row>
		<b:column span="3">
			<b:row>
				(nombre de jours avant alerte)
			</b:row>
		  	<b:row>
		  		<b:slider min="0" max="15" value="#{gestionCompteBean.bat_param_p}" label="Péremption" style="width:150px;margin-left:45px"/>
		  	</b:row>
		  	<b:row>
		  		<b:slider min="0" max="15" value="#{gestionCompteBean.bat_param_e}" label="Extension" style="width:150px;margin-left:45px"/>
		  	</b:row>
		  	<b:row>
				<b:button value="Mettre à jour" icon="cogs" iconAlign="right" onclick="#{gestionCompteBean.updateBatParam(bat_param_e ,bat_param_p ,sessionMB.getSessionUtilisateur())}"/>
			</b:row>
		</b:column>
		<b:column span="3">
			<b:row><br/></b:row>
	  		<b:row>
	  			<img src="sessionMB.sessionUtilisateur.getPortrait()" style="border: 1px solid #ddd;border-radius: 4px;padding: 5px;"></img>
	  		</b:row>
	  		<b:row><br/></b:row>
	  		<b:row>
	  			<p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true"/>
	  		</b:row>
		</b:column>		
		  </b:panel>
	</b:accordion>
      
	</ui:define>
</ui:composition>
</html> 