<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:b="http://bootsfaces.net/ui"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				template="/templates/common.xhtml">
	<ui:define name="title">Compte utilisateur</ui:define>

	<ui:define name="content">

	<b:accordion>
		<b:panel id="panel1" title="Données renseignées">
			<b:row>
			  	<b:form>
			   		<b:alert class="alert" span="2" title="IDENTITE : " style="background:#FFC94D;color:#686CE8" />
			    	<b:label span="2" severity="none" value="#{user.prenom}" style="margin-top:20px;color:black"/>
			    	<b:label span="2" severity="none" value="#{user.nom}" style="margin-top:20px;color:black"/>
			 	 	<b:alert class="alert" span="2" title="DATE D'INSCRIPTION : " style="background:#FFC94D;color:#686CE8"/>
    				<b:label span="2" severity="none" value="#{user.dateInscription}" style="margin-top:20px;color:black"/>
			 	 </b:form>
			</b:row>
			<b:row>
				<b:form id="coordonnees">
    				<b:alert class="alert" span="2" title="COORDONNEES : " style="margin-top:10px;background:#FFC94D;color:#686CE8"/>
    				<b:label span="2" severity="none" value="#{compteBean.adrPrincipale.voirie}" style="margin-top:10px;color:black"/>
    				<b:label span="2" severity="none" value="#{compteBean.adrPrincipale.codePostal}" style="margin-top:10px;color:black"/>
    				<b:label span="2" severity="none" value="#{compteBean.adrPrincipale.ville}" style="margin-top:10px;color:black"/>
   				</b:form>
   			</b:row>
   			<b:row>
				<b:form>
					<b:alert class="alert" span="2" title="MAIL : " style="background:#FFC94D;color:#686CE8"/>
			    	<b:label span="2" severity="none" value="#{user.mail}" style="margin-top:20px;color:black"/>
			    	<b:alert class="alert" span="2" title="TELEPHONE : " style="background:#FFC94D;color:#686CE8"/>
			    	<b:label span="2" severity="none" value="#{user.telephone}" style="margin-top:20px;color:black" />
    			</b:form>
			</b:row>
		</b:panel>
		<b:panel id="panel2" title="Données optionnelles">
			<b:row>
			  	<b:form>
			   		<b:alert class="alert" span="2" title="MAIL : " style="background:#FFC94D;color:#686CE8"/>
			    	<b:inputText span="2" value="#{user.mail}" placeholder="#{user.mail}" style="margin-top:10px"/>
			    	<b:commandButton span="2" value="Modifier" action="#{compteBean.enregistrer}" style="margin-top:10px"/>
			    	<b:alert class="alert" span="2" title="TELEPHONE : " style="background:#FFC94D;color:#686CE8"/>
			    	<b:inputText span="2" value="#{user.telephone}" placeholder="#{user.telephone}" style="margin-top:10px" />
			    	<b:commandButton span="2" value="Modifier" action="#{compteBean.enregistrer}" style="margin-top:10px" ajax="true" />
			 	 </b:form>
			</b:row>
			<b:row>
				<b:form>
    				<b:alert class="alert" span="2" title="DATE DE NAISSANCE : " style="background:#FFC94D;color:#686CE8" />
    				<b:datepicker span="2" value="#{user.dateNaissance}" placeholder="#{user.dateNaissance}" style="margin-top:10px"/>
					<b:commandButton span="2" value="Ajouter" action="#{compteBean.enregistrer}" style="margin-top:10px" ajax="true" />
   				</b:form>
			</b:row>
			<b:row>
				<b:form>
    				<b:alert class="alert" span="3" title="AJOUTER UNE ADRESSE : " style="background:#FFC94D;color:#686CE8" >
    				<b:selectBooleanCheckbox value="#{compteBean.chkBoxAdrPrinc}" caption="Nouvelle adresse principale" auto-update="true" />
    				</b:alert>
    				<b:inputText span="2" value="#{compteBean.voirie}" style="margin-top:10px" placeholder="Adresse" auto-update="true" />
    				<b:inputText span="1" value="#{compteBean.codePostal}" style="margin-top:10px" placeholder="Code Postal" auto-update="true" />
    				<b:inputText span="2" value="#{compteBean.ville}" style="margin-top:10px" placeholder="Ville" auto-update="true" />
    				<b:commandButton span="2" value="Ajouter" action="#{compteBean.ajouterAdresse}" style="margin-top:10px" ajax="true" update="coordonnees" />
   				</b:form>
   			</b:row>
		</b:panel>
		<b:panel id="panel3" title="Paramètres">
		<b:row>
			<b:alert class="alert" span="3" title="ALERTES ET IMAGE: " style="background:#FFC94D;color:#686CE8"></b:alert>
		</b:row>
		<b:column span="3">
			<h:form>
				<b:row>
					(nombre de jours avant alerte)
				</b:row>
			  	<b:row>
			  		<b:slider min="0" max="15" value="#{user.batParamP}" label="Péremption" style="width:150px;margin-left:45px" />
			  	</b:row>
			  	<b:row>
			  		<b:slider min="0" max="15" value="#{user.batParamE}" label="Extension" style="width:150px;margin-left:45px" />
			  	</b:row>
			  	<b:row>
					<b:commandButton value="Mettre à jour" icon="cogs" iconAlign="right" action="#{compteBean.enregistrer}" ajax="true" />
				</b:row>
			</h:form>
		</b:column>
		<b:column span="3">
			<b:row><br/></b:row>
	  		<b:row>
	  			<img src="user.portrait" style="border: 1px solid #ddd;border-radius: 4px;padding: 5px;"></img>
	  		</b:row>
	  		<b:row><br/></b:row>
	  		<b:row>
	  			<p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true"/>
	  		</b:row>
		</b:column>		
		  </b:panel>
	</b:accordion>
      
	</ui:define>
</ui:composition>
