<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/templates/common.xhtml">
	<ui:define name="content">

<h:form id="form">

					<!-- Affiche la liste des utilisateurs afin que l utilisateur selectionnne un et lui envoie une invitation,
					cette liste peut a terme etre remplacee par un champs de recherche d'un user -->
					  <p:carousel value="#{contactBean.listeUtilisateurs}" headerText="Utilisateurs a proximite" var="liste" itemStyle="text-align:left" 
            responsive="true">
        <p:panelGrid columns="2" style="width:100%;margin:10px 0px" columnClasses="label,value" layout="grid" styleClass="ui-panelgrid-blank">
            <f:facet name="header">
                <img src="resources/images/user.png"/><br/>
                 <h:outputText value="#{contactBean.listeUtilisateurs[5].getLogin()}"/>
            </f:facet>
			   
			 <h:outputText value="Pseudo:" />
			 <h:outputText value="Adresse:" />
		 
        </p:panelGrid>

    </p:carousel>	
    
                     <!-- Pour envoyer une demande de food friend -->	  
			 <p:commandButton value="Envoyer Demande" id="idBtnEnvoiDemande" onclick="PF('dlg2').show();"
			 actionListener="#{contactBean.envoyerDemandeDeFoodFriend}" />
			 
    
    <div class="ui-fluid">
    <p:dialog header="Ajouter Food-friend" styleClass="ui-priority-primary" widgetVar="dlg2" modal="true" resizable="true" responsive="true">
    
			<div class="form-group row">
				<label for="description" class="control-label col-sm-4"></label>
				<div class="col-sm-8">
					<img src="resources/images/user.png"/>
				</div>
			</div>
			
			<div class="form-group row">
				<label for="unite" class="control-label col-sm-4"> </label>
				<div class="col-sm-8">
					<h:outputText value="#{contactBean.pseudoFf}, vous a envoye une demande de food-friend"/>
				</div>
			</div>

			<div class="form-group row">
				<label for="btn" class="control-label col-sm-4"></label>
				<div class="col-sm-8">
					<p:commandButton value="Accepter" id="idBtnAccepter" actionListener="#{contactBean.accepterDemandeDeFoodFriend}"/>
				<p:commandButton value="Refuser" id="idBtnRefuser"  actionListener="#{contactBean.refuserDemandeDeFoodFriend}"/> 
				</div>
			</div>
          </p:dialog>
          </div>    	
			  
		</h:form>
	</ui:define>
</ui:composition>
</html>
